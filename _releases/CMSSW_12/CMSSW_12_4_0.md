---
layout: post
rel_link:  "12_4_0"
title:  "CMSSW_12_4_0"
date:   2022-06-15 21:29:45
categories: cmssw
relmajor: 12
relminor: 4
relsubminor: 0
---

# CMSSW_12_4_0
#### Changes since CMSSW_12_4_0_pre4:
[compare to previous](https://github.com/cms-sw/cmssw/compare/CMSSW_12_4_0_pre4...CMSSW_12_4_0)



1. [38371](http://github.com/cms-sw/cmssw/pull/38371){:target="_blank"}  from **@cms-trackeralign**: New PCL Alignment Threshold object and record for HG PCL Alignment [12.4.X] `alca` `db` created: 2022-06-14 14:33:58 merged: 2022-06-15 19:47:15

2. [38365](http://github.com/cms-sw/cmssw/pull/38365){:target="_blank"}  from **@francescobrivio**: [12_4_X] Put sampic subdet id behind the era modifier `alca` `reconstruction` created: 2022-06-14 10:12:15 merged: 2022-06-15 19:48:00

3. [38362](http://github.com/cms-sw/cmssw/pull/38362){:target="_blank"}  from **@SanghyunKo**: [12_4_X] Update CPX tune to 13.6 TeV `generators` created: 2022-06-14 06:31:17 merged: 2022-06-15 19:47:21

4. [38353](http://github.com/cms-sw/cmssw/pull/38353){:target="_blank"}  from **@CMS-ECAL-Trigger-Group**: [backport] Fix ECAL TPG emulator discrepancy for saturated strips `l1` created: 2022-06-13 08:30:07 merged: 2022-06-15 12:35:37

5. [38350](http://github.com/cms-sw/cmssw/pull/38350){:target="_blank"}  from **@cecilecaillol**: [L1T] Backport: New low pt muon LUT `l1` created: 2022-06-13 08:02:32 merged: 2022-06-14 01:04:52

6. [38347](http://github.com/cms-sw/cmssw/pull/38347){:target="_blank"}  from **@cms-tsg-storm**: HLT menu development for `12_4_X` (3/N) `hlt` created: 2022-06-12 22:26:58 merged: 2022-06-14 00:42:10

7. [38344](http://github.com/cms-sw/cmssw/pull/38344){:target="_blank"}  from **@fwyzard**: Fix cmsCudaSetup.sh to follow the latest changes to cuda.xml [12.4.x] `heterogeneous` created: 2022-06-12 10:10:00 merged: 2022-06-14 00:55:06

8. [38332](http://github.com/cms-sw/cmssw/pull/38332){:target="_blank"}  from **@missirol**: Fix range in recHitsEndcapsPosXY [`12_4_X`] `dqm` created: 2022-06-11 12:22:26 merged: 2022-06-14 00:39:41

9. [38331](http://github.com/cms-sw/cmssw/pull/38331){:target="_blank"}  from **@elfontan**: [Backport] Updates related to the L1 menu v1_1_0 for the start of Run 3 `l1` created: 2022-06-11 11:54:00 merged: 2022-06-14 16:13:14

10. [38325](http://github.com/cms-sw/cmssw/pull/38325){:target="_blank"}  from **@tvami**: [12_4_X] Updating EGM regression tags and conditions for the L1 EMTF and CALO tags for Run-3 MCs `alca` created: 2022-06-10 19:07:19 merged: 2022-06-12 10:32:22

11. [38323](http://github.com/cms-sw/cmssw/pull/38323){:target="_blank"}  from **@thomreis**: ECAL - Sort digis collections coming from GPU unpacking - 124x `hlt` `reconstruction` created: 2022-06-10 17:15:35 merged: 2022-06-14 07:57:59

12. [38320](http://github.com/cms-sw/cmssw/pull/38320){:target="_blank"}  from **@eyigitba**: [12_4_X] Fix EMTF Run 3 CSC pattern calculation `l1` created: 2022-06-10 16:17:37 merged: 2022-06-14 00:43:39

13. [38318](http://github.com/cms-sw/cmssw/pull/38318){:target="_blank"}  from **@pmandrik**: [12_4_X] HCAL GPU-CPU Comparison for the Online DQM `dqm` created: 2022-06-10 15:09:41 merged: 2022-06-13 06:06:20

14. [38317](http://github.com/cms-sw/cmssw/pull/38317){:target="_blank"}  from **@pmandrik**: [12_4_X] Fix ThroughputServiceClient.cc unsigned variables overflow `hlt` created: 2022-06-10 13:01:18 merged: 2022-06-11 09:58:59

15. [38312](http://github.com/cms-sw/cmssw/pull/38312){:target="_blank"}  from **@francescobrivio**: [12_4_X] Update DQM beam clients playback machine type check `dqm` created: 2022-06-10 06:16:46 merged: 2022-06-11 00:00:31

16. [38303](http://github.com/cms-sw/cmssw/pull/38303){:target="_blank"}  from **@wpcarvalho**: Backport XML source file describing PPS pixel 2022 DAQ mapping to 12_4_X `alca` created: 2022-06-09 13:00:41 merged: 2022-06-10 00:01:14

17. [38299](http://github.com/cms-sw/cmssw/pull/38299){:target="_blank"}  from **@minerva1993**: RPC DQM minor fix [12_4_X] `dqm` created: 2022-06-09 09:28:06 merged: 2022-06-14 00:38:19

18. [38293](http://github.com/cms-sw/cmssw/pull/38293){:target="_blank"}  from **@tvami**: [12_4_X] Include EGM and L1T tags in mcRun3 and data GTs `alca` created: 2022-06-08 21:44:04 merged: 2022-06-10 07:55:56

19. [38278](http://github.com/cms-sw/cmssw/pull/38278){:target="_blank"}  from **@quark2**: A backport of the fix on issue #38044 to 12_4_X `dqm` created: 2022-06-07 20:06:40 merged: 2022-06-10 07:57:42

20. [38265](http://github.com/cms-sw/cmssw/pull/38265){:target="_blank"}  from **@tvami**: [12_4_X] Add GEM ChMap to all GTs and rename `phase1_2021*`to `phase1_2022*` `alca` `dqm` `geometry` `hlt` `l1` `reconstruction` `simulation` `pdmv` `upgrade` created: 2022-06-06 19:40:56 merged: 2022-06-08 14:29:52

21. [38261](http://github.com/cms-sw/cmssw/pull/38261){:target="_blank"}  from **@cms-trackeralign**: [12.4.X] Introduce `TkAlJetHT` `alca` `dqm` `operations` created: 2022-06-06 16:36:54 merged: 2022-06-08 21:12:30

22. [38259](http://github.com/cms-sw/cmssw/pull/38259){:target="_blank"}  from **@gartung**: Backport of MkFitCore vectorization PR 37868 `core` `reconstruction` created: 2022-06-06 14:41:26 merged: 2022-06-09 14:05:47

23. [38255](http://github.com/cms-sw/cmssw/pull/38255){:target="_blank"}  from **@yeckang**: [Backport] Turning on GE21 digis to be unpacked for monitoring [12_4_X] `dqm` `reconstruction` `simulation` `db` `upgrade` created: 2022-06-06 13:29:10 merged: 2022-06-09 14:01:55

24. [38253](http://github.com/cms-sw/cmssw/pull/38253){:target="_blank"}  from **@sroychow**: [12.4.X] Pixel Heterogeneous DQM: add 1D differnce plots in vertex comparison module. `dqm` created: 2022-06-06 10:09:13 merged: 2022-06-09 00:28:34

25. [38243](http://github.com/cms-sw/cmssw/pull/38243){:target="_blank"}  from **@mmusich**: [12.4.X] fix the ROOT type of `EventStats` monitor element in `SiStripGainsPCLWorker` `alca` created: 2022-06-04 09:30:44 merged: 2022-06-05 00:51:57

26. [38242](http://github.com/cms-sw/cmssw/pull/38242){:target="_blank"}  from **@cms-tsg-storm**: HLT menu development for `12_4_X` (2/N) `hlt` created: 2022-06-04 06:55:50 merged: 2022-06-10 07:56:27

27. [38238](http://github.com/cms-sw/cmssw/pull/38238){:target="_blank"}  from **@ChrisMisan**: [12_4_X]Fix Sampic DQM channel_per_plane histograms `dqm` created: 2022-06-03 20:02:21 merged: 2022-06-07 15:44:44

28. [38233](http://github.com/cms-sw/cmssw/pull/38233){:target="_blank"}  from **@missirol**: Semi-random initial value in the L1 trigger prescale counter [`12_4_X`] `l1` created: 2022-06-03 14:18:38 merged: 2022-06-07 08:11:45

29. [38231](http://github.com/cms-sw/cmssw/pull/38231){:target="_blank"}  from **@ChrisMisan**: [12_4_X]Fix for hardcoded subdetector id in PPS reconstruction code `alca` `reconstruction` `simulation` created: 2022-06-03 13:43:20 merged: 2022-06-09 07:01:58

30. [38227](http://github.com/cms-sw/cmssw/pull/38227){:target="_blank"}  from **@missirol**: avoid overwrite of `options` PSet from `ConfDB` in HLT utilities [`12_4_X`] `hlt` created: 2022-06-03 11:57:48 merged: 2022-06-05 00:53:42

31. [38220](http://github.com/cms-sw/cmssw/pull/38220){:target="_blank"}  from **@francescobrivio**: [12_4_X] Shorten PPS DiamondSampic ALCARECOStream name to fit into DBS database schema `alca` `operations` created: 2022-06-03 07:39:17 merged: 2022-06-06 00:44:08

32. [38214](http://github.com/cms-sw/cmssw/pull/38214){:target="_blank"}  from **@mmusich**: [12.4.X] protect `ALCARECOSiStripCalCosmicsNano` for missing tracks (when Tracker DCS is OFF) `alca` created: 2022-06-02 21:29:01 merged: 2022-06-04 01:12:39

33. [38211](http://github.com/cms-sw/cmssw/pull/38211){:target="_blank"}  from **@sroychow**: [12.4.X] Pixel Heterogenous DQM: fix bug in TProfile definitions  `dqm` created: 2022-06-02 17:35:00 merged: 2022-06-07 06:45:30

34. [38207](http://github.com/cms-sw/cmssw/pull/38207){:target="_blank"}  from **@nurfikri89**: [NanoAOD] Backport of #37744 (Setup AK4 Puppi jets as default AK4 collection for Run 3) to 12_4_X `xpog` created: 2022-06-02 17:06:30 merged: 2022-06-04 01:10:20

35. [38204](http://github.com/cms-sw/cmssw/pull/38204){:target="_blank"}  from **@fwyzard**: ECAL GPU unpacker: adapt the buffer size to the ECAL FEDs size [12.4.x] `hlt` `reconstruction` created: 2022-06-02 15:37:46 merged: 2022-06-09 06:57:23

36. [38199](http://github.com/cms-sw/cmssw/pull/38199){:target="_blank"}  from **@makortel**: [12_4_X] Move counter initialization and printout+destruction to begin/endJob `reconstruction` created: 2022-06-02 14:17:22 merged: 2022-06-04 05:00:52

37. [38190](http://github.com/cms-sw/cmssw/pull/38190){:target="_blank"}  from **@makortel**: [12_4_X] Fix memory leak in AlCaHcalHBHEMuonProducer `alca` created: 2022-06-01 22:08:22 merged: 2022-06-03 09:56:10

38. [38187](http://github.com/cms-sw/cmssw/pull/38187){:target="_blank"}  from **@mmusich**: [12.4.X] Shorten the names of two ALCARECOStreams in order to fit into DBS database schema limitations `alca` `operations` `pdmv` `upgrade` created: 2022-06-01 21:19:14 merged: 2022-06-05 12:38:56

39. [38174](http://github.com/cms-sw/cmssw/pull/38174){:target="_blank"}  from **@dinyar**: [12_4_X] Adapt uGMT DQM for new readout menu following the disabling of the zero suppression `dqm` created: 2022-06-01 14:36:40 merged: 2022-06-04 01:04:55

40. [38171](http://github.com/cms-sw/cmssw/pull/38171){:target="_blank"}  from **@cms-tsg-storm**: Update of L1T menu in TSG GTs to `L1Menu_Collisions2022_v1_1_0_xml` [`12_4_X`] `hlt` created: 2022-06-01 13:33:00 merged: 2022-06-02 18:10:04

41. [38166](http://github.com/cms-sw/cmssw/pull/38166){:target="_blank"}  from **@abhih1**: Changes to get the PU info from OnlineMetaData stream [12_4_X] `dqm` created: 2022-06-01 11:49:50 merged: 2022-06-02 18:15:32

42. [38164](http://github.com/cms-sw/cmssw/pull/38164){:target="_blank"}  from **@cms-tau-pog**: Remove depreciated DNN-based tau-Ids [12_4_X] `reconstruction` created: 2022-06-01 10:19:48 merged: 2022-06-10 13:42:18

43. [38161](http://github.com/cms-sw/cmssw/pull/38161){:target="_blank"}  from **@AdrianoDee**: [12_4_X] Safeguard for nHits==0 `reconstruction` created: 2022-06-01 09:24:40 merged: 2022-06-07 10:43:14

44. [38153](http://github.com/cms-sw/cmssw/pull/38153){:target="_blank"}  from **@Dr15Jones**: Deal with exception in EventProcessor constructor [12_4] `core` created: 2022-05-31 19:56:10 merged: 2022-06-02 18:13:59

45. [38152](http://github.com/cms-sw/cmssw/pull/38152){:target="_blank"}  from **@bainbrid**: LowPtElectrons: updates for nano v10 (back port) `reconstruction` `xpog` created: 2022-05-31 19:39:03 merged: 2022-06-02 18:13:02

46. [38148](http://github.com/cms-sw/cmssw/pull/38148){:target="_blank"}  from **@missirol**: guard against `uint16_t` overflows of Pixel ADC values [`12_4_X`] `reconstruction` created: 2022-05-31 15:58:26 merged: 2022-06-01 09:12:28

47. [38137](http://github.com/cms-sw/cmssw/pull/38137){:target="_blank"}  from **@alexsr-98**: Implemented new strategy to generate OI seeds for displaced muons (backport) `hlt` `reconstruction` created: 2022-05-31 08:48:22 merged: 2022-06-04 01:09:06

48. [38136](http://github.com/cms-sw/cmssw/pull/38136){:target="_blank"}  from @cms-tsg-storm: Move HLT:**@relval2021** to GRun until V1.2 is ready `hlt` created: 2022-05-31 07:21:57 merged: 2022-06-01 04:07:24

49. [38133](http://github.com/cms-sw/cmssw/pull/38133){:target="_blank"}  from **@fwyzard**: Set a missing parameter in the `dqmSaver` in the `hltHarvesting` test [12.4.x] `hlt` created: 2022-05-31 06:45:43 merged: 2022-06-01 04:08:50

50. [38129](http://github.com/cms-sw/cmssw/pull/38129){:target="_blank"}  from **@malbouis**: [124X] Add DoubleMuonLowMass PD to autoAlca `alca` created: 2022-05-30 21:38:50 merged: 2022-06-01 04:05:10

51. [38123](http://github.com/cms-sw/cmssw/pull/38123){:target="_blank"}  from **@thomreis**: ECAL - GPU unpacker buffer overflow fix - 12_4_X `hlt` `reconstruction` created: 2022-05-30 16:45:22 merged: 2022-06-02 18:19:56

52. [38121](http://github.com/cms-sw/cmssw/pull/38121){:target="_blank"}  from **@Sam-Harper**: Fixing Memory Coruption for large histograms in DQMFileSaverPB : 12_4_X `dqm` created: 2022-05-30 15:34:36 merged: 2022-05-31 13:43:10

53. [38116](http://github.com/cms-sw/cmssw/pull/38116){:target="_blank"}  from **@dinyar**: [12_4_X] Compute muon index bits using idx from dataformat `l1` created: 2022-05-29 20:04:41 merged: 2022-05-31 09:26:45

54. [38111](http://github.com/cms-sw/cmssw/pull/38111){:target="_blank"}  from **@francescobrivio**: [12_4_X] update BeamSpot HLT client to use correct raw data from TCDS `dqm` `db` created: 2022-05-28 07:53:47 merged: 2022-06-02 18:16:47

55. [38108](http://github.com/cms-sw/cmssw/pull/38108){:target="_blank"}  from **@cms-tsg-storm**: HLT menu development for `12_4_X` (1/N) `hlt` created: 2022-05-27 20:44:19 merged: 2022-05-30 00:45:06

56. [38104](http://github.com/cms-sw/cmssw/pull/38104){:target="_blank"}  from **@minerva1993**: RPC DQM: change merger input as default [12_4_X] `dqm` created: 2022-05-27 16:52:19 merged: 2022-06-02 18:23:02

57. [38099](http://github.com/cms-sw/cmssw/pull/38099){:target="_blank"}  from **@radla118**: [12_4_X] Fix the parameter set of the AlcaPCCIntegrator module `alca` created: 2022-05-27 13:34:34 merged: 2022-05-27 22:56:13

58. [38085](http://github.com/cms-sw/cmssw/pull/38085){:target="_blank"}  from **@jfernan2**: [DQM] Fixed filling for TDCfatal in DT Online DQM Backport124X `dqm` created: 2022-05-25 14:32:40 merged: 2022-06-01 00:48:34

59. [38082](http://github.com/cms-sw/cmssw/pull/38082){:target="_blank"}  from **@fwyzard**: Let PFClusterEMEnergyCorrector run without SRB inputs `hlt` `reconstruction` created: 2022-05-25 14:13:09 merged: 2022-06-01 15:38:36

60. [38079](http://github.com/cms-sw/cmssw/pull/38079){:target="_blank"}  from **@mmusich**: [12.4.X] SiStripHitEfficiency PCL Workflow: miscellaneous fixes `alca` created: 2022-05-25 12:41:08 merged: 2022-05-27 22:54:04

61. [38070](http://github.com/cms-sw/cmssw/pull/38070){:target="_blank"}  from **@malbouis**: [124X] Add EGM regression to online GTs and update Run-3 cosmics MC GTs `alca` created: 2022-05-24 19:20:08 merged: 2022-05-25 23:44:38

62. [38066](http://github.com/cms-sw/cmssw/pull/38066){:target="_blank"}  from **@silviodonato**: Sort pixel tracks in the SoA converter (12_4_X) `reconstruction` created: 2022-05-24 16:29:51 merged: 2022-06-11 00:52:56

63. [38057](http://github.com/cms-sw/cmssw/pull/38057){:target="_blank"}  from **@SanghyunKo**: [12_4_X] Push_back 0th weight manually, prevent duplication of PS weights in P8.30x `generators` created: 2022-05-24 12:09:38 merged: 2022-05-25 09:11:59

64. [38053](http://github.com/cms-sw/cmssw/pull/38053){:target="_blank"}  from **@leonardogiannini**: [12.4.X] TrackTfClassifier with Batch eval - backport of #38007  `reconstruction` created: 2022-05-24 01:35:59 merged: 2022-05-25 09:51:40

65. [38046](http://github.com/cms-sw/cmssw/pull/38046){:target="_blank"}  from **@defranchis**: Adding sum of PS weights (backport) `xpog` created: 2022-05-23 14:38:22 merged: 2022-05-24 08:08:55

66. [38037](http://github.com/cms-sw/cmssw/pull/38037){:target="_blank"}  from **@Dr15Jones**: Lock more methods of JobReport [12_4] `core` created: 2022-05-22 16:18:39 merged: 2022-05-23 15:06:17

67. [38015](http://github.com/cms-sw/cmssw/pull/38015){:target="_blank"}  from **@makortel**: [12_4_X] Fix behavior of SwitchProducer in ConditionalTask with non-chosen EDAlias case(s) that are consumed explicitly with callWhenNewProductsRegistered()  `core` created: 2022-05-19 14:01:23 merged: 2022-05-20 16:02:02

68. [38013](http://github.com/cms-sw/cmssw/pull/38013){:target="_blank"}  from **@cms-tsg-storm**: HLT menu development plus V1.1 frozen menu `hlt` created: 2022-05-19 13:37:41 merged: 2022-05-21 00:31:51

69. [38011](http://github.com/cms-sw/cmssw/pull/38011){:target="_blank"}  from **@mmusich**: [12.4.X] address undef output of dnn - for issue #37970 `reconstruction` created: 2022-05-19 10:03:45 merged: 2022-05-20 16:08:50

70. [37986](http://github.com/cms-sw/cmssw/pull/37986){:target="_blank"}  from **@mbluj**: link lost tracks to taus [12_4_X] `reconstruction` created: 2022-05-17 16:11:02 merged: 2022-05-19 00:45:50

71. [37985](http://github.com/cms-sw/cmssw/pull/37985){:target="_blank"}  from **@cms-tau-pog**: Changes to enable new DeepTauId trainig [12_4_X] `reconstruction` created: 2022-05-17 16:02:48 merged: 2022-05-19 12:15:35

72. [37979](http://github.com/cms-sw/cmssw/pull/37979){:target="_blank"}  from **@cms-tsg-storm**: HLT menu development for `12_3_X` [`12_4_X`] `hlt` created: 2022-05-17 12:38:10 merged: 2022-05-19 03:41:30

73. [37969](http://github.com/cms-sw/cmssw/pull/37969){:target="_blank"}  from @sroychow: Pixel Heterogeneous DQM: add module rechit @cpu / **@gpu** comparisons [Backport to 12.4.X]  `dqm` created: 2022-05-17 07:39:03 merged: 2022-05-20 17:49:48

74. [37967](http://github.com/cms-sw/cmssw/pull/37967){:target="_blank"}  from **@fwyzard**: Add a method to `EventMsgBuilder` to precompute the message header size [12.4.x] `core` created: 2022-05-17 06:35:22 merged: 2022-05-17 14:36:25

75. [37966](http://github.com/cms-sw/cmssw/pull/37966){:target="_blank"}  from **@seungjin-yang**: GEM Online & Offline Efficiency Update (backport of #37954, 12_4_X) `dqm` created: 2022-05-17 03:31:47 merged: 2022-05-30 00:42:42

76. [37965](http://github.com/cms-sw/cmssw/pull/37965){:target="_blank"}  from **@minerva1993**: RPC DQM updates for Run3 [backport to 12_4_X] `dqm` created: 2022-05-17 01:49:42 merged: 2022-05-18 08:34:06

#### CMSDIST Changes between Tags REL/CMSSW_12_4_0_pre4/el8_amd64_gcc10 and REL/CMSSW_12_4_0/el8_amd64_gcc10:
[compare to previous](https://github.com/cms-sw/cmsdist/compare/REL/CMSSW_12_4_0_pre4/el8_amd64_gcc10...REL/CMSSW_12_4_0/el8_amd64_gcc10)



1. [7926](http://github.com/cms-sw/cmsdist/pull/7926){:target="_blank"}  from **@cms-sw**: [12.4.X] Updated files for the v1_1_0 menu for Run 3 (and minor fix for v1_0_0) created: 2022-06-12 17:33:22 merged: 2022-06-14 16:13:17

2. [7918](http://github.com/cms-sw/cmsdist/pull/7918){:target="_blank"}  from **@kandrosov**: [12_4_X] Update tag for RecoTauTag-TrainingFiles to V00-06-00 created: 2022-06-09 10:56:27 merged: 2022-06-10 13:42:42

3. [7914](http://github.com/cms-sw/cmsdist/pull/7914){:target="_blank"}  from **@SiewYan**: [12_4_X] bumping up sherpa to 2.2.12 created: 2022-06-08 13:00:43 merged: 2022-06-10 05:23:54

4. [7906](http://github.com/cms-sw/cmsdist/pull/7906){:target="_blank"}  from **@cms-sw**: [12.4.X][igprof][el8] Handle ENDBR64 instruction created: 2022-06-01 06:12:10 merged: 2022-06-01 11:08:15

5. [7900](http://github.com/cms-sw/cmsdist/pull/7900){:target="_blank"}  from **@cms-sw**: [12.4.X] use cmsswdata_version_link macro to create full version symlink created: 2022-05-30 11:55:58 merged: 2022-05-30 21:27:43

6. [7898](http://github.com/cms-sw/cmsdist/pull/7898){:target="_blank"}  from **@fwyzard**: Update OpenMPI to version 4.1.4 [12.4.x] created: 2022-05-30 08:08:18 merged: 2022-05-31 01:23:51

7. [7877](http://github.com/cms-sw/cmsdist/pull/7877){:target="_blank"}  from **@cms-sw**: Update tag for RecoTauTag-TrainingFiles to V00-04-00 created: 2022-05-18 09:34:38 merged: 2022-05-19 12:15:58
